(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7156:function(s,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(4984)}])},4984:function(s,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=n(5893),t=n(7294),i=n(9008),l=n(1133),c=n(1163),o=n(4931);function r(){var s=(0,t.useContext)(l.I),e=s.setToken,n=s.setUser,r=(0,c.useRouter)();console.log(r);return(0,a.jsxs)("div",{children:[(0,a.jsxs)(i.default,{children:[(0,a.jsx)("title",{children:"Login Page"}),(0,a.jsx)("meta",{name:"description",content:"user login page"}),(0,a.jsx)("link",{rel:"stylesheet",href:"https://pro.fontawesome.com/releases/v5.10.0/css/all.css",integrity:"sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"})]}),(0,a.jsxs)("form",{onSubmit:function(s){s.preventDefault();var a={email:s.target.email.value,password:s.target.password.value};fetch("https://blogs-app-server.vercel.app/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(s){console.log(s.headers.get("token"));var n=s.headers.get("token");return localStorage.setItem("token",n),e(n),s.json()})).then((function(e){e.success?(n(e.data),s.target.reset(),o.ZP.success("Logged in successful ! "),setTimeout((function(){r.push("/")}),1e3)):o.ZP.error(e.message)}))},children:[(0,a.jsx)("div",{className:"field",children:(0,a.jsxs)("p",{className:"control has-icons-left has-icons-right",children:[(0,a.jsx)("input",{className:"input",type:"email",name:"email",placeholder:"Email"}),(0,a.jsx)("span",{className:"icon is-small is-left",children:(0,a.jsx)("i",{className:"fas fa-envelope"})}),(0,a.jsx)("span",{className:"icon is-small is-right",children:(0,a.jsx)("i",{className:"fas fa-check"})})]})}),(0,a.jsx)("div",{className:"field",children:(0,a.jsxs)("p",{className:"control has-icons-left",children:[(0,a.jsx)("input",{className:"input",type:"password",name:"password",placeholder:"Password"}),(0,a.jsx)("span",{className:"icon is-small is-left",children:(0,a.jsx)("i",{className:"fas fa-lock"})})]})}),(0,a.jsx)("div",{className:"field",children:(0,a.jsx)("p",{className:"control",children:(0,a.jsx)("button",{className:"button is-success",children:"Login"})})})]}),(0,a.jsx)(o.x7,{position:"top-center",reverseOrder:!1})]})}},9008:function(s,e,n){s.exports=n(5443)}},function(s){s.O(0,[931,774,888,179],(function(){return e=7156,s(s.s=e);var e}));var e=s.O();_N_E=e}]);